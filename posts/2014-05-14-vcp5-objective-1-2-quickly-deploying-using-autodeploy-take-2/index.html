<!doctype html><html lang=en-us><head><title>VCP5 Objective 1.2 “Quickly” Deploying Using AutoDeploy - Take 2 // Chris Neales Blog</title><link rel="shortcut icon" href=/favicon.ico><meta charset=utf-8><meta name=generator content="Hugo 0.105.0"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="John Doe"><meta name=description content><link rel=stylesheet href=/css/main.min.0fb49e70a30412f97ddfc418e18fefef1d9fcdebe45f634dbbba768b00fe1eec.css><meta name=twitter:card content="summary"><meta name=twitter:title content="VCP5 Objective 1.2 “Quickly” Deploying Using AutoDeploy - Take 2"><meta name=twitter:description content="So when last we spoke I had left Linux updating.
It was when I came to resume last night that I couldn&rsquo;t track down the original article I had been following.
It was only when I found Marco Broeken&rsquo;s blog &ldquo;vSphere5 Auto-Deploy in 20 Steps&rdquo;. This started straight away with the, now, blindingly obvious statement that the VCVA is a Linux box, therefore my Ubuntu box was a waste of space."><meta property="og:title" content="VCP5 Objective 1.2 “Quickly” Deploying Using AutoDeploy - Take 2"><meta property="og:description" content="So when last we spoke I had left Linux updating.
It was when I came to resume last night that I couldn&rsquo;t track down the original article I had been following.
It was only when I found Marco Broeken&rsquo;s blog &ldquo;vSphere5 Auto-Deploy in 20 Steps&rdquo;. This started straight away with the, now, blindingly obvious statement that the VCVA is a Linux box, therefore my Ubuntu box was a waste of space."><meta property="og:type" content="article"><meta property="og:url" content="https://www.chrisneale.org/posts/2014-05-14-vcp5-objective-1-2-quickly-deploying-using-autodeploy-take-2/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2014-05-14T18:00:00+00:00"><meta property="article:modified_time" content="2014-05-14T18:00:00+00:00"></head><body><header class=app-header><a href=https://www.chrisneale.org/><img class=app-header-avatar src=/avatar.jpg alt="John Doe"></a>
<span class=app-header-title>Chris Neales Blog</span><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc vehicula turpis sit amet elit pretium.</p></header><main class=app-container><article class=post><header class=post-header><h1 class=post-title>VCP5 Objective 1.2 “Quickly” Deploying Using AutoDeploy - Take 2</h1><div class=post-meta><div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar"><title>calendar</title><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>May 14, 2014</div><div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock"><title>clock</title><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>2 min read</div><div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tag"><title>tag</title><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7.01" y2="7"/></svg><a class=tag href=https://www.chrisneale.org/tags/study/>Study</a></div></div></header><div class=post-content><p>So when last we spoke I had left Linux updating.</p><p>It was when I came to resume last night that I couldn&rsquo;t track down the original article I had been following.</p><p>It was only when I found<a href=http://www.vclouds.nl/vsphere-5-auto-deploy-in-20-steps/> Marco Broeken&rsquo;s blog </a>&ldquo;vSphere5 Auto-Deploy in 20 Steps&rdquo;.  This started straight away with the, now, blindingly obvious statement that the VCVA is a Linux box, therefore my Ubuntu box was a waste of space.</p><p>Simply configure and start the Tftp Daemon and the DHCP daemon services on the VCVA server and then you&rsquo;re ready to move on to downloading the Image Bundle zip from VMware and importing that via the powerCLI <strong>Add-ESXSoftwareDepot. </strong>I did have some issues with a corrupted install of powercli 5.5 and 5.1 on the same PC that still isn&rsquo;t resolved even after combing the registry and file system.  Luckily I had my laptop to run the PowerCLI steps from.</p><p>Minor edits to Marco&rsquo;s post are to</p><ul><li>Just list the filename not the full /tftpboot folder.  Then my (virtual) ESXi Host started to gpxe boot ok.  However it did pick up a different IP for the tftp step.</li><li>Disable any other DHCP servers you may have on your lab network.  In my case my Sky Hub was sneaking in there and giving the gpxe boot an ip address and therefore my host wasn't getting my tramp.</li></ul>Also contrary to my previous post I did find where in the web-client the AutoDeploy settings are:<p><strong>Drill down to the vCenter Server system. Click the Manage tab, select Settings, and click Auto Deploy.</strong></p><p>Here are some pictures of the amazing process of esxi loading itself onto a VM, running on an ESXi host!</p><p>It was the final message about persistent storage that taught me the most about Auto-Deploy, which will follow in the next post!</p><p><a href=http://chrisneale.files.wordpress.com/2014/05/autodeploy-working.png><img class="aligncenter size-large wp-image-139" src="http://chrisneale.files.wordpress.com/2014/05/autodeploy-working.png?w=750" alt=autodeploy-working width=750 height=421></a> <a href=http://chrisneale.files.wordpress.com/2014/05/autodep2.png><img class="aligncenter size-large wp-image-138" src="http://chrisneale.files.wordpress.com/2014/05/autodep2.png?w=750" alt=autodep2 width=750 height=405></a> <a href=http://chrisneale.files.wordpress.com/2014/05/autodep3.png><img class="alignnone size-large wp-image-137" src="http://chrisneale.files.wordpress.com/2014/05/autodep3.png?w=750" alt=autodep3 width=750 height=405></a></p></div><div class=post-footer></div></article></main></body></html>