<!doctype html>
<html lang="en-us">
  <head>
    <title>VCP5 Auto Deploy - Much more than just an automated ESXi install // Chris Neales Blog</title>
    <link rel="shortcut icon" href="/favicon.ico" />
    <meta charset="utf-8" />
    <meta name="generator" content="Hugo 0.105.0">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="John Doe" />
    <meta name="description" content="" />
    <link rel="stylesheet" href="https://www.chrisneale.org/css/main.min.0fb49e70a30412f97ddfc418e18fefef1d9fcdebe45f634dbbba768b00fe1eec.css" />

    
    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="VCP5 Auto Deploy - Much more than just an automated ESXi install"/>
<meta name="twitter:description" content="Revision. It means to review (previously studied materials) according to dictionary.com
However as anyone who has ever studied for a tech exam knows it is usually the complete opposite! You know what you know. You work with it and click those options every day. BUT you know that the exam covers all the things you never use, some you may have never even looked at.
&ldquo;Connecting windows to a Unix print server!"/>

    <meta property="og:title" content="VCP5 Auto Deploy - Much more than just an automated ESXi install" />
<meta property="og:description" content="Revision. It means to review (previously studied materials) according to dictionary.com
However as anyone who has ever studied for a tech exam knows it is usually the complete opposite! You know what you know. You work with it and click those options every day. BUT you know that the exam covers all the things you never use, some you may have never even looked at.
&ldquo;Connecting windows to a Unix print server!" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.chrisneale.org/posts/2014-05-15-vcp5-auto-deploy-much-more-than-just-an-automated-esxi-install/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2014-05-15T18:00:00+00:00" />
<meta property="article:modified_time" content="2014-05-15T18:00:00+00:00" />



  </head>
  <body>
    <header class="app-header">
      <a href="https://www.chrisneale.org/"><img class="app-header-avatar" src="/avatar.jpg" alt="John Doe" /></a>
      <span class="app-header-title">Chris Neales Blog</span>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc vehicula turpis sit amet elit pretium.</p>
    </header>
    <main class="app-container">
      
  <article class="post">
    <header class="post-header">
      <h1 class ="post-title">VCP5 Auto Deploy - Much more than just an automated ESXi install</h1>
      <div class="post-meta">
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar">
  <title>calendar</title>
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>
</svg>
          May 15, 2014
        </div>
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock">
  <title>clock</title>
  <circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>
</svg>
          3 min read
        </div>
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tag">
  <title>tag</title>
  <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line>
</svg>
              <a class="tag" href="https://www.chrisneale.org/tags/esxi/">esxi</a>
              <a class="tag" href="https://www.chrisneale.org/tags/study/">Study</a>
              <a class="tag" href="https://www.chrisneale.org/tags/vcp/">VCP</a>
        </div>
      </div>
    </header>
    <div class="post-content">
      <p>Revision.  It means to review (previously studied materials) according to dictionary.com</p>
<p>However as anyone who has ever studied for a tech exam knows it is usually the complete opposite!  You know what you know.  You work with it and click those options every day. BUT you know that the exam covers all the things you never use, some you may have never even looked at.</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted -->&ldquo;Connecting windows to a Unix print server!!! NO-ONE does that, so why is there a question on it!!!&quot;<!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p>So after reading the first objective about vcenter/vsphere editions I moved on to Installing ESXi.  I&rsquo;ve done this tons of times.  However I&rsquo;ve never used Auto Deploy.</p>
<p>Auto Deploy was new in vSphere 5 and if you skim read the blog posts or documentation headings then you might well presume it&rsquo;s just Automated Install.  A robot that once set up will dump a specified ESXi image on a server, then it&rsquo;s back to you.</p>
<p>Well it&rsquo;s much more than that.  After my first successful Auto-Deploy I checked the Console of the machine and thought, &ldquo;ok so I need to set DHCP now&rdquo;.  Then I wondered how it had carved up the disk I&rsquo;d assigned it.  Hang on a sec. It&rsquo;s only utilised a few Kb of the 5Gb I&rsquo;d assigned it.  I then went to look at it&rsquo;s storage and saw this message.</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p>Then it dawned on me (and I remembered a distant bit of documentation).  Auto Deploy loads ESXi into memory.  It doesn&rsquo;t do a traditional install.  Then words like stateless and stateful started popping back into my brain and I remembered that you can, depending on the powercli you define, and the host profile you apply, have ESXi built/loaded on the fly every time it boots.</p>
<p>Why?</p>
<p>Well think about it.  You get a standard image.  You can tell them all to have a consistent host profile.  It will automatically place your host in the folder you specify in vCenter.</p>
<p>All great, but a big shift from how people normally work and think.  There are still plenty of Service Managers obsessed with &ldquo;which host is VM x running on?&rdquo;.</p>
<p>If you&rsquo;re not comfortable with it then fine.  Go for a stateful install and then you are using Auto-Deploy just like HP/Altiris RDP or Tivoli or SCCM etc. (but with much more VMware integration and flexibility).  The size of your environment also will dictate if this configuration is worth it.  It&rsquo;s not hugely time consuming but it does add a little bit of time to your deployment.  Not forgetting that whoever will be looking after the environment after you&rsquo;ve gone will need to understand it!</p>
<p>The activities are:</p>
<!-- raw HTML omitted -->
<p>6b.  Create a host profile for your new host(s) (this should include where in vCenter you want the host to be put)
7b.  Ensure the Auto-Deploy rule includes the host profile you want</p>
<p>This blog post will give you a great overview
<!-- raw HTML omitted --><a href="http://blogs.vmware.com/vsphere/2012/01/understanding-the-auto-deploy-components.html">http://blogs.vmware.com/vsphere/2012/01/understanding-the-auto-deploy-components.html</a><!-- raw HTML omitted --></p>
<p>This KB article gives more in depth detail of Auto-Deploy with links and ref to the Admin Doc PDF/Page numbers where you can read more
<!-- raw HTML omitted --><a href="http://kb.vmware.com/selfservice/microsites/search.do?language=en_US&amp;amp;cmd=displayKC&amp;amp;externalId=2005131">http://kb.vmware.com/selfservice/microsites/search.do?language=en_US&amp;amp;cmd=displayKC&amp;amp;externalId=2005131</a><!-- raw HTML omitted --></p>
<p>So here&rsquo;s to the Software Defined DataCenter (SDDC)</p>

    </div>
    <div class="post-footer">
      
    </div>
  </article>

    </main>
  </body>
</html>
