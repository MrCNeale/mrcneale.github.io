<!doctype html>
<html lang="en-us">
  <head>
    <title>VCP5 - Me and my virtual history // Chris Neales Blog</title>
    <link rel="shortcut icon" href="/favicon.ico" />
    <meta charset="utf-8" />
    <meta name="generator" content="Hugo 0.105.0">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="John Doe" />
    <meta name="description" content="" />
    <link rel="stylesheet" href="https://www.chrisneale.org/css/main.min.0fb49e70a30412f97ddfc418e18fefef1d9fcdebe45f634dbbba768b00fe1eec.css" />

    
    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="VCP5 - Me and my virtual history"/>
<meta name="twitter:description" content="I&rsquo;m 37, work at a global IT services company with big customers. When I started in 2005 my first project was helping deploy 10s of ESX hosts. Yes &ldquo;ESX&rdquo; v2.5 &ldquo;Virtual Infrastructure&rdquo; hosts and Virtual Center 1.something or other. It&rsquo;s 9 years ago now but we had multiple farms of 7 hosts (I think) which had shared LUNs, and all ran training courses. Each training course was 6 VMs. Only 1 was unique as a citrix presentation server v4 front-end."/>

    <meta property="og:title" content="VCP5 - Me and my virtual history" />
<meta property="og:description" content="I&rsquo;m 37, work at a global IT services company with big customers. When I started in 2005 my first project was helping deploy 10s of ESX hosts. Yes &ldquo;ESX&rdquo; v2.5 &ldquo;Virtual Infrastructure&rdquo; hosts and Virtual Center 1.something or other. It&rsquo;s 9 years ago now but we had multiple farms of 7 hosts (I think) which had shared LUNs, and all ran training courses. Each training course was 6 VMs. Only 1 was unique as a citrix presentation server v4 front-end." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.chrisneale.org/posts/2014-05-10-vcp5-me-and-my-virtual-history/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2014-05-10T18:00:00+00:00" />
<meta property="article:modified_time" content="2014-05-10T18:00:00+00:00" />



  </head>
  <body>
    <header class="app-header">
      <a href="https://www.chrisneale.org/"><img class="app-header-avatar" src="/avatar.jpg" alt="John Doe" /></a>
      <span class="app-header-title">Chris Neales Blog</span>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc vehicula turpis sit amet elit pretium.</p>
    </header>
    <main class="app-container">
      
  <article class="post">
    <header class="post-header">
      <h1 class ="post-title">VCP5 - Me and my virtual history</h1>
      <div class="post-meta">
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar">
  <title>calendar</title>
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>
</svg>
          May 10, 2014
        </div>
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock">
  <title>clock</title>
  <circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>
</svg>
          4 min read
        </div>
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tag">
  <title>tag</title>
  <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line>
</svg>
              <a class="tag" href="https://www.chrisneale.org/tags/aws/">AWS</a>
              <a class="tag" href="https://www.chrisneale.org/tags/study/">Study</a>
              <a class="tag" href="https://www.chrisneale.org/tags/ucs/">UCS</a>
              <a class="tag" href="https://www.chrisneale.org/tags/vblock/">vBlock</a>
              <a class="tag" href="https://www.chrisneale.org/tags/vcd/">vCD</a>
              <a class="tag" href="https://www.chrisneale.org/tags/vcd5.1/">vCD5.1</a>
              <a class="tag" href="https://www.chrisneale.org/tags/vce/">VCE</a>
              <a class="tag" href="https://www.chrisneale.org/tags/vcp5/">VCP5</a>
        </div>
      </div>
    </header>
    <div class="post-content">
      <p>I&rsquo;m 37, work at a global IT services company with big customers.  When I started in 2005 my first project was helping deploy 10s of ESX hosts.  Yes &ldquo;ESX&rdquo; v2.5 &ldquo;Virtual Infrastructure&rdquo; hosts and Virtual Center 1.something or other.  It&rsquo;s 9 years ago now but we had multiple farms of 7 hosts (I think) which had shared LUNs, and all ran training courses.  Each training course was 6 VMs.  Only 1 was unique as a citrix presentation server v4 front-end. The other 5 were identical copies on an internal private network, to stand up a training environment to train lots of people at lots of sites on a particular product.  At it&rsquo;s peak there were around 1500 VMs running and regularly &ldquo;rebuilt&rdquo; as training enviroments needed to be restarted.</p>
<p>Back in those days, when clouds were things in the sky full of rain and automation was DIY, the way a training course got &ldquo;built&rdquo; was simple.
<strong>A 1 line command! passing an IP and a training course number/id.
</strong>
Admittedly that one line command went off and ran a big shell script on the ESX host (ahh the good old days of having the shell still included, pre ESXi)
It used vmkfstools to provision the 5 copies and renamed the vmx and vmdk files and their entries which were registered in vcenter.
The 6th, and tricky one was the Citrix Presentation server which was sysprepped, ready and waiting to run a clever vbs script after unprepping.
The VM would be provisioned as the non-unique VMs, however before powering on the vmx file would be edited heavily using SED to change the VMs MAC address to match the training course ID.
After that when the VM booted up the sysprep would complete and run a vbs script which would query the MAC address and then rename the server accordingly and configure it&rsquo;s networking, join it to the internal private domain etc.</p>
<p>All magical stuff.  But took a lot of engineering first.
Since then I&rsquo;ve worked on plenty of other accounts, sadly some still use VI3 (maybe it&rsquo;s just so good they can&rsquo;t see the cost/benefit of upgrading!).  Lots, possibly the majority are still on vSphere4 and many are now moving to v5, frequently via the Cloud route.</p>
<p>In the middle of that in Jan 2011 I deployed a vBlock to a large UK customer of ours.  The purpose of this was to P2V the majority of their server estate.  Some 900 servers.  I have to admit that after analysis this number rapidly shrunk to around 600.  Why?  Well a number of reasons, practicality, legacy, regulatory.  Since then they have had 3 more vBlocks and migrated plenty more so I&rsquo;m sure a lot of those blockers have been worked out.  This was a great experience, seeing a vBlock in the flesh/metal was cool as the majority of my work is/was remote, so it was nice to get some hands on (although I had a horrendous cold/flu and freezing server rooms weren&rsquo;t helping).</p>
<p>Following that I have worked more on UCS (non-vBlock systems) and on the whole it&rsquo;s a good design/idea, but when it comes to the upgrade of the central components it is a gargantuan process that scares engineers and customers alike :-)</p>
<p>Most recently I&rsquo;ve been loaned out to our Cloud division and have been working on newer vBlocks 100/200/300&rsquo;s.  This has included first using vCloud Director as a &ldquo;customer&rdquo; on a project for one of our customer labs, and then as an administrator to create other new customer Clouds, including the creation of a Virtual Private Enterprise Cloud for one customer.</p>
<p>Finally most recently I was involved, albeit briefly as the project was rescoped, in building out systems on Amazon Web Services.  This was different again as there was provision of the Standard Amazon Machine Images(AMIs) is a different way of working as we normally have our own in-house Machine Images (Or SOEs).</p>
<p>So virtualisation, virtualisation, virtualisation.
Ever since VI, ESX2.5 and seeing a vMotion transfer a live running VM, from one physical host to another&hellip;.I&rsquo;ve been hooked
[caption width=&ldquo;356&rdquo; align=&ldquo;aligncenter&rdquo;]<a href="http://technichelp.blogspot.co.uk/2013/07/vmotion-powered-on-virtual-machine.html"><img src="http://chrisneale.files.wordpress.com/2014/05/0bf8e-vmotion.jpg" width="356" height="209" class /></a> Image from
<a href="http://technichelp.blogspot.co.uk/2013/07/vmotion-powered-on-virtual-machine.html%5B/caption%5D">http://technichelp.blogspot.co.uk/2013/07/vmotion-powered-on-virtual-machine.html[/caption]</a></p>

    </div>
    <div class="post-footer">
      
    </div>
  </article>

    </main>
  </body>
</html>
